# Spec: Todoモジュール（検証用サンプル）

> **Spec ID**: 001
> **ステータス**: approved
> **依存**: なし
> **作成日**: 2026-02-09
> **最終更新**: 2026-02-09

## 1. 目的
- ワークフロー全体（スペック→TDD→スキル実行）を検証するためのサンプル実装

## 2. スコープ
### 対象範囲
- Todoアイテムの追加・一覧取得・完了・削除を行うモジュール

### 対象外
- 永続化（DB/ファイル）、API、UI

## 3. ユースケース

### UC-1: Todoの追加
- **アクター**: 利用者
- **前提条件**: Todoリストが存在する
- **手順**: タイトルを指定してTodoを追加
- **期待結果**: 一意のIDが付与されたTodoが追加される

### UC-2: Todoの完了
- **アクター**: 利用者
- **前提条件**: 未完了のTodoが存在する
- **手順**: IDを指定してTodoを完了にする
- **期待結果**: 該当Todoのステータスが完了になる

### UC-3: Todoの削除
- **アクター**: 利用者
- **前提条件**: Todoが存在する
- **手順**: IDを指定してTodoを削除
- **期待結果**: 該当Todoがリストから削除される

## 4. 要件

### 4-1. 機能要件
- [ ] FR-1: Todoの追加（タイトル必須、ID自動採番）
- [ ] FR-2: Todoの一覧取得（全件）
- [ ] FR-3: Todoの完了（ID指定）
- [ ] FR-4: Todoの削除（ID指定）

### 4-2. 非機能要件
- [ ] NFR-1: 純粋なJavaScriptモジュール（外部依存なし）
- [ ] NFR-2: テストカバレッジ80%以上

## 5. 受け入れ条件 (Acceptance Criteria)
- [ ] AC-1: addTodo("タイトル") で新しいTodoが追加され、IDが返される
- [ ] AC-2: getTodos() で全Todoの配列が返される
- [ ] AC-3: completeTodo(id) で該当Todoのcompletedがtrueになる
- [ ] AC-4: deleteTodo(id) で該当Todoが削除される
- [ ] AC-5: 存在しないIDに対する操作でエラーが投げられる
- [ ] AC-6: タイトルが空文字の場合エラーが投げられる

## 6. テスト方針 (TDD)

### 単体テスト
- 対象: TodoList クラスの各メソッド
- カバレッジ目標: 100%

### 統合テスト
- 対象: 複数操作の組み合わせ（追加→完了→一覧）

### テスト ↔ スペック対応表
| 受け入れ条件 | テストファイル | テスト種別 |
|-------------|---------------|-----------|
| AC-1 | tests/unit/todo.test.js | unit |
| AC-2 | tests/unit/todo.test.js | unit |
| AC-3 | tests/unit/todo.test.js | unit |
| AC-4 | tests/unit/todo.test.js | unit |
| AC-5 | tests/unit/todo.test.js | unit |
| AC-6 | tests/unit/todo.test.js | unit |

## 7. 仕様変更履歴

| バージョン | 日付 | 変更内容 | 理由 |
|-----------|------|----------|------|
| 1.0 | 2026-02-09 | 初版作成 | ワークフロー検証用 |
